model patch_tag {
  id           Int      @id @default(autoincrement())
  name         String   @unique @db.VarChar(107)
  introduction String   @default("") @db.VarChar(10007)
  count        Int      @default(0)
  alias        String[]

  patch_relation patch_tag_relation[]
  user_id        Int
  user           user                 @relation(fields: [user_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  created DateTime @default(now())
  updated DateTime @updatedAt
}

model patch_tag_relation {
  id       Int       @id @default(autoincrement())
  patch_id Int
  patch    patch     @relation(fields: [patch_id], references: [id], onDelete: Cascade, onUpdate: NoAction)
  tag_id   Int
  tag      patch_tag @relation(fields: [tag_id], references: [id], onDelete: Cascade, onUpdate: NoAction)

  created DateTime @default(now())
  updated DateTime @updatedAt

  @@unique([patch_id, tag_id])
}
